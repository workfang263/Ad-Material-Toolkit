# 步骤19：尺寸调整功能 - 测试清单

## 测试日期：2025-12-24

## 测试环境
- 前端服务：http://localhost:18080/image-stitch
- 浏览器：Chrome/Firefox/Edge

---

## 测试准备

### 前置条件
1. [ ] 确认前端服务正常运行（端口18080）
2. [ ] 打开浏览器开发者工具（F12）
3. [ ] 打开Console面板查看日志
4. [ ] 准备至少1张测试图片（用于观察画布变化）

---

## 测试场景

### 场景1：初始状态检查 ✅

**测试步骤：**
1. [ ] 打开页面 http://localhost:18080/image-stitch
2. [ ] 滚动到"尺寸调整"面板
3. [ ] 检查默认值是否正确：
   - 左侧大图：宽度800px，高度800px
   - 右上小图：宽度400px，高度400px
   - 右下小图：宽度400px，高度400px
4. [ ] 检查画布总尺寸显示：应该是 1200 x 800 px

**预期结果：**
- 所有滑块位置正确
- 输入框显示正确数值
- 画布尺寸信息正确显示

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景2：滑块调整功能 ✅

**测试步骤：**
1. [ ] 拖动"左侧大图 - 宽度"滑块
2. [ ] 观察以下变化：
   - 滑块旁边的数值是否实时更新
   - 输入框的数值是否同步更新
   - 画布预览区宽度是否立即改变
   - 画布总尺寸信息是否更新
3. [ ] 拖动"左侧大图 - 高度"滑块
4. [ ] 观察画布预览区高度是否改变
5. [ ] 依次测试右上和右下小图的滑块

**预期结果：**
- 滑块拖动流畅
- 数值实时同步
- 画布实时预览调整
- Console没有错误

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景3：输入框调整功能 ✅

**测试步骤：**
1. [ ] 点击"左侧大图 - 宽度"输入框
2. [ ] 直接输入数值：例如输入 600
3. [ ] 按回车或点击其他地方
4. [ ] 观察以下变化：
   - 滑块位置是否自动移动到对应位置
   - 画布预览是否更新
   - 画布总尺寸是否更新
5. [ ] 测试使用输入框的增减按钮
6. [ ] 依次测试所有6个输入框

**预期结果：**
- 输入数值后立即生效
- 滑块位置同步更新
- 画布实时调整

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景4：边界值测试（最小值）✅

**测试步骤：**
1. [ ] 在"左侧大图 - 宽度"输入框输入 100（小于最小值200）
2. [ ] 观察是否自动调整为 200
3. [ ] 尝试拖动滑块到最左边
4. [ ] 验证最小值是否为 200
5. [ ] 测试所有输入框的最小值限制

**预期结果：**
- 输入小于200的值，自动调整为200
- 滑块无法拖到200以下
- 提示信息友好

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景5：边界值测试（最大值）✅

**测试步骤：**
1. [ ] 在"左侧大图 - 宽度"输入框输入 1500（大于最大值1200）
2. [ ] 观察是否自动调整为 1200
3. [ ] 尝试拖动滑块到最右边
4. [ ] 验证最大值是否为 1200
5. [ ] 测试所有输入框的最大值限制

**预期结果：**
- 输入大于1200的值，自动调整为1200
- 滑块无法拖到1200以上

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景6：实际图片预览测试 ✅

**测试步骤：**
1. [ ] 添加一张测试图片到素材区
2. [ ] 将图片拖拽到"左侧大图"槽位
3. [ ] 调整"左侧大图"的宽度和高度
4. [ ] 观察图片显示效果：
   - 图片是否正确填充新的尺寸
   - 图片是否保持居中裁剪
   - 图片不应该变形
5. [ ] 添加更多图片到右上和右下槽位
6. [ ] 同时调整多个区域的尺寸
7. [ ] 验证所有图片显示正常

**预期结果：**
- 图片完美填充调整后的区域
- 图片保持宽高比（不变形）
- 图片居中裁剪显示

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景7：重置功能测试 ✅

**测试步骤：**
1. [ ] 随意调整所有6个尺寸值（不要使用默认值）
2. [ ] 记录调整后的画布总尺寸
3. [ ] 点击"重置默认"按钮
4. [ ] 验证以下内容：
   - 所有滑块是否回到默认位置
   - 所有输入框是否显示默认值（800, 800, 400, 400, 400, 400）
   - 画布总尺寸是否恢复为 1200 x 800
   - 是否显示成功提示："已重置为默认尺寸"
5. [ ] 检查Console是否有日志："🔄 [尺寸调整] 已重置为默认尺寸"

**预期结果：**
- 一键恢复所有默认值
- 画布恢复默认大小
- 提示信息正确显示

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景8：画布尺寸计算验证 ✅

**测试步骤：**
1. [ ] 设置以下尺寸：
   - 左侧大图：600 x 700
   - 右上小图：300 x 400
   - 右下小图：300 x 300
2. [ ] 手动计算预期的画布尺寸：
   - 宽度 = 600 + 300 = 900
   - 高度 = max(700, 400 + 300) = max(700, 700) = 700
3. [ ] 验证"画布总尺寸"显示是否为：900 x 700
4. [ ] 测试多组不同的尺寸组合

**预期结果：**
- 画布总尺寸计算正确
- 显示的尺寸与实际画布大小一致

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景9：极端尺寸组合测试 ✅

**测试步骤：**
1. [ ] 测试组合1：所有最小值（200x200）
   - 画布总尺寸应为：400 x 400
2. [ ] 测试组合2：所有最大值（1200x1200）
   - 画布总尺寸应为：2400 x 2400
3. [ ] 测试组合3：左侧超高（200 x 1200），右侧很小（200 x 200）
   - 画布总尺寸应为：400 x 1200
4. [ ] 观察画布是否正常显示
5. [ ] 验证是否有布局错乱

**预期结果：**
- 各种极端组合都能正常显示
- 没有布局崩溃
- 没有性能问题

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景10：Console日志验证 ✅

**测试步骤：**
1. [ ] 打开浏览器开发者工具 → Console面板
2. [ ] 调整任意尺寸值
3. [ ] 查看Console是否输出：`📐 [尺寸调整] 当前画布尺寸: { width: xxx, height: xxx }`
4. [ ] 点击"重置默认"按钮
5. [ ] 查看Console是否输出：`🔄 [尺寸调整] 已重置为默认尺寸`

**预期结果：**
- 每次尺寸改变都有日志输出
- 日志信息清晰准确
- 没有错误或警告

**测试结果：** □ 通过  □ 失败  
**备注：**

---

### 场景11：响应式设计测试 ✅

**测试步骤：**
1. [ ] 将浏览器窗口缩小到手机尺寸（宽度 < 768px）
2. [ ] 验证尺寸调整面板是否正常显示
3. [ ] 验证滑块和输入框是否垂直排列
4. [ ] 在小屏幕下调整尺寸
5. [ ] 验证功能是否正常

**预期结果：**
- 小屏幕下布局自动调整
- 功能完全正常
- 没有元素重叠或遮挡

**测试结果：** □ 通过  □ 失败  
**备注：**

---

## 测试总结

### 总体测试结果
- 通过：___ / 11
- 失败：___ / 11
- 通过率：___%

### 发现的问题
1. 
2. 
3. 

### 性能观察
- 滑块拖动流畅度：____
- 画布更新响应速度：____
- 是否有卡顿现象：____

### 用户体验评价
- 操作是否直观：____
- 反馈是否及时：____
- 界面是否美观：____

### 改进建议
1. 
2. 
3. 

### 测试人员：__________
### 测试日期：__________

---

## 附：测试技巧

### 如何查看Console日志
1. 按F12打开开发者工具
2. 点击"Console"标签
3. 观察日志输出（带有 📐 和 🔄 图标）

### 如何验证CSS Grid布局
1. 打开开发者工具
2. 点击"Elements"标签
3. 找到 class="canvas-grid" 的元素
4. 在右侧"Styles"面板查看 grid-template-columns 和 grid-template-rows
5. 验证值是否与设置的尺寸一致

### 如何测试边界值
- 输入框：直接输入数值，观察是否自动限制
- 滑块：拖动到两端，观察是否有最大/最小值限制
- 增减按钮：持续点击，观察是否停在边界值


